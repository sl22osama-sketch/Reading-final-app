<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌟 منصة القراءة الذكية - رحلة التميز في القراءة</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Noto+Sans+Arabic:wght@300;400;500;600;700;800&family=Cairo:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Cairo', 'Noto Sans Arabic', sans-serif;
            background: linear-gradient(135deg, 
                #667eea 0%,   /* بنفسجي فاتح */
                #764ba2 15%,  /* بنفسجي متوسط */
                #f093fb 30%,  /* وردي فاتح */
                #f5576c 45%,  /* أحمر وردي */
                #4facfe 60%,  /* أزرق فاتح */
                #00f2fe 75%,  /* سماوي */
                #43e97b 90%,  /* أخضر فاتح */
                #38f9d7 100%  /* أخضر مائي */
            );
            background-size: 400% 400%;
            animation: gradientFlow 15s ease infinite;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 100% 100%; }
            75% { background-position: 0% 100%; }
            100% { background-position: 0% 50%; }
        }
        
        /* تأثيرات الخلفية المتحركة */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 40% 60%, rgba(102, 126, 234, 0.2) 0%, transparent 40%),
                radial-gradient(circle at 60% 40%, rgba(245, 87, 108, 0.15) 0%, transparent 40%);
            pointer-events: none;
            z-index: 1;
            animation: floatingBubbles 20s ease-in-out infinite;
        }
        
        @keyframes floatingBubbles {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(90deg); }
            50% { transform: translateY(-40px) rotate(180deg); }
            75% { transform: translateY(-20px) rotate(270deg); }
        }
        
        /* بطاقات زجاجية متطورة */
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(30px);
            border: 2px solid rgba(255, 255, 255, 0.9);
            box-shadow: 
                0 25px 80px rgba(0, 0, 0, 0.15),
                0 10px 40px rgba(0, 0, 0, 0.1),
                inset 0 2px 0 rgba(255, 255, 255, 0.9),
                inset 0 -2px 0 rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.8s;
        }
        
        .glass-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 35px 100px rgba(0, 0, 0, 0.2),
                0 15px 50px rgba(0, 0, 0, 0.15);
        }
        
        .glass-card:hover::before {
            left: 100%;
        }
        
        /* عنوان رئيسي متحرك */
        .hero-title {
            background: linear-gradient(45deg, #667eea, #764ba2, #f093fb, #f5576c);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: titleGradient 4s ease infinite;
            text-shadow: 0 0 30px rgba(102, 126, 234, 0.5);
        }
        
        @keyframes titleGradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        /* نص القراءة المحسن */
        .reading-text {
            line-height: 3;
            font-size: 2rem;
            font-weight: 600;
            color: #1f2937;
            text-shadow: 0 2px 4px rgba(255, 255, 255, 0.8);
            letter-spacing: 2px;
            word-spacing: 8px;
            font-family: 'Amiri', 'Noto Sans Arabic', serif;
            text-align: justify;
            padding: 3rem;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.98), 
                rgba(248, 250, 252, 0.95),
                rgba(241, 245, 249, 0.92)
            );
            border-radius: 20px;
            border: 3px solid rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .reading-text::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);
            animation: progressShimmer 3s ease infinite;
        }
        
        @keyframes progressShimmer {
            0%, 100% { transform: translateX(-100%); }
            50% { transform: translateX(100%); }
        }
        
        /* مستويات متدرجة */
        .level-5 { font-size: 1.4rem; line-height: 2.6; }
        .level-6 { font-size: 1.5rem; line-height: 2.7; }
        .level-7 { font-size: 1.6rem; line-height: 2.8; }
        .level-8 { font-size: 1.7rem; line-height: 2.9; }
        .level-9 { font-size: 1.8rem; line-height: 3; }
        .level-10 { font-size: 1.9rem; line-height: 3.1; }
        .level-11 { font-size: 2rem; line-height: 3.2; }
        .level-12 { font-size: 2.1rem; line-height: 3.3; }
        
        /* أزرار تفاعلية متطورة */
        .btn-gradient {
            background: linear-gradient(145deg, #667eea, #764ba2, #f093fb);
            border: 2px solid rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 
                0 15px 40px rgba(102, 126, 234, 0.4),
                0 8px 20px rgba(118, 75, 162, 0.3),
                inset 0 2px 0 rgba(255, 255, 255, 0.3);
            font-weight: 800;
            transform: translateY(0) scale(1);
            backdrop-filter: blur(10px);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .btn-gradient:hover {
            transform: translateY(-8px) scale(1.08);
            box-shadow: 
                0 25px 60px rgba(102, 126, 234, 0.6),
                0 15px 30px rgba(118, 75, 162, 0.5),
                inset 0 2px 0 rgba(255, 255, 255, 0.4);
            background: linear-gradient(145deg, #764ba2, #f093fb, #f5576c);
        }
        
        .btn-gradient::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5), transparent);
            transition: left 0.6s;
        }
        
        .btn-gradient:hover::before {
            left: 100%;
        }
        
        /* أزرار ملونة متخصصة */
        .btn-success {
            background: linear-gradient(145deg, #48bb78, #38a169, #2f855a);
            box-shadow: 0 12px 30px rgba(72, 187, 120, 0.5);
        }
        
        .btn-success:hover {
            transform: translateY(-6px) scale(1.05);
            box-shadow: 0 20px 50px rgba(72, 187, 120, 0.7);
        }
        
        .btn-danger {
            background: linear-gradient(145deg, #f56565, #e53e3e, #c53030);
            box-shadow: 0 12px 30px rgba(245, 101, 101, 0.5);
        }
        
        .btn-warning {
            background: linear-gradient(145deg, #ed8936, #dd6b20, #c05621);
            box-shadow: 0 12px 30px rgba(237, 137, 54, 0.5);
        }
        
        /* شريط التقدم المتحرك */
        .progress-bar {
            background: linear-gradient(90deg, #48bb78, #38a169, #2f855a, #68d391);
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 6px 20px rgba(72, 187, 120, 0.5);
            position: relative;
            overflow: hidden;
            animation: progressGlow 2s ease-in-out infinite;
        }
        
        @keyframes progressGlow {
            0%, 100% { box-shadow: 0 6px 20px rgba(72, 187, 120, 0.4); }
            50% { box-shadow: 0 8px 25px rgba(72, 187, 120, 0.7); }
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);
            animation: progressShine 2.5s infinite;
        }
        
        @keyframes progressShine {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        /* تمييز الكلمات المتطور */
        .word-highlight {
            background: linear-gradient(120deg, #fbbf24, #f59e0b, #d97706);
            padding: 6px 16px;
            border-radius: 15px;
            color: #1f2937;
            font-weight: 900;
            text-shadow: 0 2px 4px rgba(255, 255, 255, 0.8);
            animation: wordSparkle 1.5s infinite;
            box-shadow: 
                0 6px 20px rgba(251, 191, 36, 0.7),
                inset 0 2px 0 rgba(255, 255, 255, 0.5);
            border: 2px solid rgba(245, 158, 11, 0.8);
            transform: scale(1);
            transition: all 0.3s ease;
        }
        
        @keyframes wordSparkle {
            0%, 100% { 
                transform: scale(1) rotate(0deg); 
                box-shadow: 0 6px 20px rgba(251, 191, 36, 0.6);
            }
            25% { 
                transform: scale(1.1) rotate(1deg); 
                box-shadow: 0 8px 25px rgba(251, 191, 36, 0.8);
            }
            50% { 
                transform: scale(1.15) rotate(0deg); 
                box-shadow: 0 10px 30px rgba(251, 191, 36, 1);
            }
            75% { 
                transform: scale(1.1) rotate(-1deg); 
                box-shadow: 0 8px 25px rgba(251, 191, 36, 0.8);
            }
        }
        
        /* بطاقات الإحصائيات */
        .stats-card {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.98), 
                rgba(255, 255, 255, 0.85)
            );
            backdrop-filter: blur(30px);
            border: 2px solid rgba(255, 255, 255, 0.9);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        
        .stats-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.2), transparent);
            transition: left 0.8s;
        }
        
        .stats-card:hover {
            transform: translateY(-12px) scale(1.05);
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.2);
        }
        
        .stats-card:hover::before {
            left: 100%;
        }
        
        /* رسوم متحركة للعناصر */
        .floating-animation {
            animation: floatElement 8s ease-in-out infinite;
        }
        
        @keyframes floatElement {
            0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
            25% { transform: translateY(-15px) rotate(2deg) scale(1.02); }
            50% { transform: translateY(-25px) rotate(0deg) scale(1.05); }
            75% { transform: translateY(-15px) rotate(-2deg) scale(1.02); }
        }
        
        /* شارات المستوى */
        .level-badge {
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            font-weight: 800;
            font-size: 1rem;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
            animation: badgeGlow 3s ease-in-out infinite alternate;
            border: 2px solid rgba(255, 255, 255, 0.4);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        @keyframes badgeGlow {
            from { 
                box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
                transform: scale(1);
            }
            to { 
                box-shadow: 0 8px 25px rgba(102, 126, 234, 0.7);
                transform: scale(1.05);
            }
        }
        
        /* بطاقة التشجيع */
        .encouragement-card {
            background: linear-gradient(145deg, #667eea, #764ba2, #f093fb);
            color: white;
            border-radius: 25px;
            padding: 2rem;
            text-align: center;
            font-weight: 700;
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.5);
            animation: encouragementPulse 4s ease-in-out infinite;
            border: 3px solid rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .encouragement-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: encouragementRotate 6s linear infinite;
        }
        
        @keyframes encouragementRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes encouragementPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.03); }
        }
        
        /* محدد المستوى */
        .level-selector {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 3px solid rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        }
        
        .level-button {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.98), 
                rgba(248, 250, 252, 0.95)
            );
            backdrop-filter: blur(20px);
            border: 3px solid rgba(102, 126, 234, 0.3);
            border-radius: 20px;
            padding: 1.5rem;
            margin: 0.5rem;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            color: #1f2937;
            transform: translateY(0) scale(1);
        }
        
        .level-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.2), transparent);
            transition: left 0.8s;
        }
        
        .level-button:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 20px 50px rgba(102, 126, 234, 0.4);
            border-color: rgba(102, 126, 234, 0.6);
        }
        
        .level-button:hover::before {
            left: 100%;
        }
        
        .level-button.active {
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
            border-color: rgba(102, 126, 234, 0.8);
            box-shadow: 
                0 20px 50px rgba(102, 126, 234, 0.5),
                inset 0 2px 0 rgba(255, 255, 255, 0.4);
            transform: translateY(-5px) scale(1.02);
        }
        
        /* تحسينات الاستجابة */
        @media (max-width: 768px) {
            .reading-text {
                font-size: 1.2rem;
                line-height: 2.3;
                padding: 1.5rem;
            }
            
            .hero-title {
                font-size: 2.5rem;
            }
            
            .level-button {
                padding: 1rem;
                margin: 0.3rem;
            }
            
            .level-selector {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container mx-auto px-4 py-8 max-w-7xl relative z-10">
        <!-- العنوان الرئيسي المتطور -->
        <div class="text-center mb-20 relative">
            <div class="glass-card rounded-3xl p-10 mx-auto max-w-5xl floating-animation">
                <h1 class="hero-title text-6xl md:text-8xl font-black mb-8">
                    🌟 منصة القراءة الذكية 🌟
                </h1>
                <p class="text-2xl md:text-3xl text-gray-800 font-bold mb-8 leading-relaxed">
                    رحلة التميز في القراءة - طور مهاراتك واكتشف قدراتك الحقيقية
                </p>
                <div class="flex justify-center gap-4 md:gap-6 flex-wrap">
                    <span class="level-badge">🎯 تعلم بذكاء</span>
                    <span class="level-badge">🚀 تطور بسرعة</span>
                    <span class="level-badge">⭐ تميز دائماً</span>
                    <span class="level-badge">🏆 حقق أحلامك</span>
                </div>
            </div>
        </div>

        <!-- محدد المستوى المتطور (الصفوف من 5-12) -->
        <div class="level-selector glass-card rounded-3xl mb-10">
            <h3 class="text-2xl md:text-3xl font-black text-gray-800 mb-6 text-center">
                🎓 اختر صفك الدراسي وابدأ رحلة التميز
            </h3>
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3 md:gap-4">
                <div class="level-button active" data-level="5">
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl mb-2">📚</div>
                        <div class="font-black text-sm md:text-base mb-1">الصف الخامس</div>
                        <div class="text-xs text-gray-600 font-medium">البداية القوية</div>
                    </div>
                </div>
                <div class="level-button" data-level="6">
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl mb-2">📖</div>
                        <div class="font-black text-sm md:text-base mb-1">الصف السادس</div>
                        <div class="text-xs text-gray-600 font-medium">التطور المستمر</div>
                    </div>
                </div>
                <div class="level-button" data-level="7">
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl mb-2">📝</div>
                        <div class="font-black text-sm md:text-base mb-1">الصف السابع</div>
                        <div class="text-xs text-gray-600 font-medium">بناء المهارات</div>
                    </div>
                </div>
                <div class="level-button" data-level="8">
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl mb-2">🎯</div>
                        <div class="font-black text-sm md:text-base mb-1">الصف الثامن</div>
                        <div class="text-xs text-gray-600 font-medium">التركيز والدقة</div>
                    </div>
                </div>
                <div class="level-button" data-level="9">
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl mb-2">🚀</div>
                        <div class="font-black text-sm md:text-base mb-1">الصف التاسع</div>
                        <div class="text-xs text-gray-600 font-medium">الانطلاق نحو التميز</div>
                    </div>
                </div>
                <div class="level-button" data-level="10">
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl mb-2">⭐</div>
                        <div class="font-black text-sm md:text-base mb-1">الصف العاشر</div>
                        <div class="text-xs text-gray-600 font-medium">النجومية</div>
                    </div>
                </div>
                <div class="level-button" data-level="11">
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl mb-2">👑</div>
                        <div class="font-black text-sm md:text-base mb-1">الصف الحادي عشر</div>
                        <div class="text-xs text-gray-600 font-medium">التفوق</div>
                    </div>
                </div>
                <div class="level-button" data-level="12">
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl mb-2">🏆</div>
                        <div class="font-black text-sm md:text-base mb-1">الصف الثاني عشر</div>
                        <div class="text-xs text-gray-600 font-medium">التميز المطلق</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- بطاقة التشجيع المتطورة -->
        <div class="encouragement-card mb-10 relative z-10">
            <div class="text-2xl md:text-3xl font-black mb-4" id="encouragementTitle">🌟 أنت قادر على التميز!</div>
            <div class="text-lg md:text-xl font-medium" id="encouragementText">القراءة مفتاح المعرفة، وأنت تملك هذا المفتاح. ابدأ رحلتك نحو التفوق!</div>
        </div>

        <!-- نموذج معلومات الطالب -->
        <div class="glass-card rounded-3xl p-6 md:p-10 mb-10">
            <h2 class="text-3xl md:text-5xl font-black text-gray-800 mb-8">👤 معلومات الطالب</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-lg font-bold text-gray-700 mb-3">اسم الطالب</label>
                    <input type="text" id="studentName" placeholder="أدخل اسم الطالب" 
                           class="w-full px-4 py-3 rounded-xl border-3 border-purple-300 bg-white/95 backdrop-blur-sm font-bold text-lg focus:border-purple-500 focus:outline-none transition-all">
                </div>
                <div>
                    <label class="block text-lg font-bold text-gray-700 mb-3">المدرسة</label>
                    <input type="text" id="schoolName" placeholder="اسم المدرسة" 
                           class="w-full px-4 py-3 rounded-xl border-3 border-purple-300 bg-white/95 backdrop-blur-sm font-bold text-lg focus:border-purple-500 focus:outline-none transition-all">
                </div>
                <div>
                    <label class="block text-lg font-bold text-gray-700 mb-3">الصف الدراسي</label>
                    <select id="studentGrade" class="w-full px-4 py-3 rounded-xl border-3 border-purple-300 bg-white/95 backdrop-blur-sm font-bold text-lg focus:border-purple-500 focus:outline-none transition-all">
                        <option value="5">الصف الخامس</option>
                        <option value="6">الصف السادس</option>
                        <option value="7">الصف السابع</option>
                        <option value="8">الصف الثامن</option>
                        <option value="9">الصف التاسع</option>
                        <option value="10">الصف العاشر</option>
                        <option value="11">الصف الحادي عشر</option>
                        <option value="12">الصف الثاني عشر</option>
                    </select>
                </div>
                <div>
                    <label class="block text-lg font-bold text-gray-700 mb-3">تاريخ اليوم</label>
                    <input type="date" id="sessionDate" 
                           class="w-full px-4 py-3 rounded-xl border-3 border-purple-300 bg-white/95 backdrop-blur-sm font-bold text-lg focus:border-purple-500 focus:outline-none transition-all">
                </div>
            </div>
        </div>

        <!-- المحتوى الرئيسي -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-10">
            <!-- قسم القراءة -->
            <div class="lg:col-span-2">
                <div class="glass-card rounded-3xl p-6 md:p-10 mb-10">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">
                        <h2 class="text-3xl md:text-5xl font-black text-gray-800">📖 نص القراءة</h2>
                        <div class="flex gap-4">
                            <select id="textSelect" class="px-4 md:px-8 py-2 md:py-4 rounded-xl border-3 border-purple-300 bg-white/95 backdrop-blur-sm font-bold text-sm md:text-lg">
                                <option value="0">النص الأول</option>
                                <option value="1">النص الثاني</option>
                                <option value="2">النص الثالث</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="glass-card rounded-2xl mb-8">
                        <div id="readingText" class="reading-text level-5">
                            كَانَ هُنَاكَ طَائِرٌ صَغِيرٌ يَعِيشُ فِي غَابَةٍ جَمِيلَةٍ. كَانَ الطَّائِرُ يُحِبُّ الْغِنَاءَ كُلَّ صَبَاحٍ. فِي يَوْمٍ مِنَ الْأَيَّامِ، قَرَّرَ الطَّائِرُ أَنْ يَسْتَكْشِفَ أَجْزَاءً جَدِيدَةً مِنَ الْغَابَةِ. طَارَ عَالِيًا فَوْقَ الْأَشْجَارِ وَرَأَى مَنْظَرًا رَائِعًا. عَادَ الطَّائِرُ إِلَى عُشِّهِ سَعِيدًا بِمَا رَآهُ.
                        </div>
                    </div>
                    
                    <!-- أزرار التحكم المتطورة -->
                    <div class="flex flex-wrap justify-center gap-4 md:gap-6 mb-8">
                        <button id="startBtn" class="btn-gradient text-white px-6 md:px-12 py-3 md:py-5 rounded-xl font-black text-lg md:text-2xl">
                            🎯 ابدأ القراءة
                        </button>
                        <button id="pauseBtn" class="btn-danger text-white px-6 md:px-12 py-3 md:py-5 rounded-xl font-black text-lg md:text-2xl" disabled>
                            ⏸️ توقف
                        </button>
                        <button id="resetBtn" class="btn-warning text-white px-6 md:px-12 py-3 md:py-5 rounded-xl font-black text-lg md:text-2xl">
                            🔄 إعادة تعيين
                        </button>
                    </div>
                    
                    <!-- أزرار التسجيل والتنزيل -->
                    <div class="flex flex-wrap justify-center gap-4 md:gap-6 mb-8">
                        <button id="startRecordingBtn" class="btn-success text-white px-6 md:px-12 py-3 md:py-5 rounded-xl font-black text-lg md:text-2xl">
                            🎤 بدء التسجيل
                        </button>
                        <button id="stopRecordingBtn" class="btn-danger text-white px-6 md:px-12 py-3 md:py-5 rounded-xl font-black text-lg md:text-2xl" disabled>
                            ⏹️ إيقاف التسجيل
                        </button>
                        <button id="downloadReportBtn" class="btn-gradient text-white px-6 md:px-12 py-3 md:py-5 rounded-xl font-black text-lg md:text-2xl">
                            📥 تنزيل التقرير
                        </button>
                    </div>
                    
                    <!-- حالة التسجيل -->
                    <div id="recordingStatus" class="text-center mb-6 hidden">
                        <div class="glass-card rounded-2xl p-4 bg-red-50 border-red-300">
                            <div class="flex items-center justify-center gap-3">
                                <div class="w-4 h-4 bg-red-500 rounded-full animate-pulse"></div>
                                <span class="text-red-700 font-bold text-lg">🎤 جاري التسجيل...</span>
                                <div id="recordingTimer" class="text-red-600 font-black text-xl">00:00</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- قسم التقدم المتطور -->
                <div class="glass-card rounded-3xl p-6 md:p-10 mb-10">
                    <h3 class="text-3xl md:text-5xl font-black text-gray-800 mb-8">📊 تقدم القراءة</h3>
                    <div class="mb-8">
                        <div class="flex justify-between text-lg md:text-xl font-black text-gray-700 mb-4">
                            <span>الكلمات المقروءة</span>
                            <span id="progressText">0 / 0</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-6 md:h-8">
                            <div id="progressBar" class="progress-bar h-6 md:h-8 rounded-full" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 mt-10">
                        <div class="text-center bg-white/98 p-4 md:p-8 rounded-2xl border-3 border-blue-400 hover:border-blue-500 transition-all shadow-lg stats-card">
                            <div class="text-4xl md:text-6xl font-black text-blue-600 mb-3" id="wordsRead">0</div>
                            <div class="text-xs md:text-sm text-gray-700 font-bold">كلمة مقروءة</div>
                        </div>
                        <div class="text-center bg-white/98 p-4 md:p-8 rounded-2xl border-3 border-green-400 hover:border-green-500 transition-all shadow-lg stats-card">
                            <div class="text-4xl md:text-6xl font-black text-green-600 mb-3" id="readingSpeed">0</div>
                            <div class="text-xs md:text-sm text-gray-700 font-bold">كلمة/دقيقة</div>
                        </div>
                        <div class="text-center bg-white/98 p-4 md:p-8 rounded-2xl border-3 border-purple-400 hover:border-purple-500 transition-all shadow-lg stats-card">
                            <div class="text-4xl md:text-6xl font-black text-purple-600 mb-3" id="accuracy">100%</div>
                            <div class="text-xs md:text-sm text-gray-700 font-bold">دقة القراءة</div>
                        </div>
                        <div class="text-center bg-white/98 p-4 md:p-8 rounded-2xl border-3 border-orange-400 hover:border-orange-500 transition-all shadow-lg stats-card">
                            <div class="text-4xl md:text-6xl font-black text-orange-600 mb-3" id="level">5</div>
                            <div class="text-xs md:text-sm text-gray-700 font-bold">الصف الحالي</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- المؤقت والإحصائيات -->
            <div class="space-y-10">
                <!-- المؤقت المتطور -->
                <div class="glass-card rounded-3xl p-6 md:p-10 text-center">
                    <h3 class="text-3xl md:text-4xl font-black text-gray-800 mb-8">⏱️ المؤقت</h3>
                    <div class="rounded-full w-48 h-48 md:w-64 md:h-64 mx-auto flex items-center justify-center relative bg-gradient-to-br from-blue-100 to-purple-100 border-4 border-blue-300">
                        <div class="text-center z-10">
                            <div id="timerDisplay" class="text-4xl md:text-6xl font-black text-gray-800">00:00</div>
                            <div class="text-sm md:text-lg text-gray-600 mt-3 font-bold">دقيقة:ثانية</div>
                        </div>
                    </div>
                </div>

                <!-- الإحصائيات المتطورة -->
                <div class="stats-card rounded-3xl p-6 md:p-10">
                    <h3 class="text-2xl md:text-3xl font-black text-gray-800 mb-8">📈 إحصائياتك</h3>
                    <div class="space-y-4 md:space-y-6">
                        <div class="flex justify-between items-center p-4 md:p-6 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl border-2 border-blue-200">
                            <span class="font-black text-gray-700 text-sm md:text-lg">إجمالي الجلسات</span>
                            <span id="totalSessions" class="text-2xl md:text-4xl font-black text-blue-600">0</span>
                        </div>
                        <div class="flex justify-between items-center p-4 md:p-6 bg-gradient-to-r from-green-50 to-green-100 rounded-xl border-2 border-green-200">
                            <span class="font-black text-gray-700 text-sm md:text-lg">إجمالي الكلمات</span>
                            <span id="totalWords" class="text-2xl md:text-4xl font-black text-green-600">0</span>
                        </div>
                        <div class="flex justify-between items-center p-4 md:p-6 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl border-2 border-purple-200">
                            <span class="font-black text-gray-700 text-sm md:text-lg">متوسط السرعة</span>
                            <span id="avgSpeed" class="text-2xl md:text-4xl font-black text-purple-600">0</span>
                        </div>
                        <div class="flex justify-between items-center p-4 md:p-6 bg-gradient-to-r from-yellow-50 to-yellow-100 rounded-xl border-2 border-yellow-200">
                            <span class="font-black text-gray-700 text-sm md:text-lg">أفضل سرعة</span>
                            <span id="bestSpeed" class="text-2xl md:text-4xl font-black text-yellow-600">0</span>
                        </div>
                        <div class="flex justify-between items-center p-4 md:p-6 bg-gradient-to-r from-pink-50 to-pink-100 rounded-xl border-2 border-pink-200">
                            <span class="font-black text-gray-700 text-sm md:text-lg">الوقت الإجمالي</span>
                            <span id="totalTime" class="text-2xl md:text-4xl font-black text-pink-600">0د</span>
                        </div>
                    </div>
                    
                    <button id="clearStats" class="w-full mt-8 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white py-4 md:py-5 rounded-xl font-black text-lg md:text-xl transition-all transform hover:scale-105">
                        🗑️ مسح الإحصائيات
                    </button>
                </div>
                
                <!-- نصائح التفوق المحسنة -->
                <div class="glass-card rounded-3xl p-6 md:p-10">
                    <h3 class="text-3xl md:text-4xl font-black text-gray-800 mb-8">💡 نصائح للتفوق</h3>
                    <div class="space-y-4 md:space-y-6">
                        <div class="bg-white/95 p-4 md:p-6 rounded-xl border-3 border-blue-400 hover:border-blue-500 transition-all shadow-md stats-card">
                            <h4 class="font-black text-blue-700 mb-3 text-sm md:text-lg">🎧 للطلاب المبتدئين:</h4>
                            <p class="text-gray-700 font-medium text-sm md:text-base">ابدأ بالقراءة ببطء وركز على النطق الصحيح</p>
                        </div>
                        <div class="bg-white/95 p-4 md:p-6 rounded-xl border-3 border-green-400 hover:border-green-500 transition-all shadow-md stats-card">
                            <h4 class="font-black text-green-700 mb-3 text-sm md:text-lg">⚡ لزيادة السرعة:</h4>
                            <p class="text-gray-700 font-medium text-sm md:text-base">مارس القراءة يومياً وزد السرعة تدريجياً</p>
                        </div>
                        <div class="bg-white/95 p-4 md:p-6 rounded-xl border-3 border-purple-400 hover:border-purple-500 transition-all shadow-md stats-card">
                            <h4 class="font-black text-purple-700 mb-3 text-sm md:text-lg">🎯 للتركيز:</h4>
                            <p class="text-gray-700 font-medium text-sm md:text-base">اختر مكاناً هادئاً واقرأ في أوقات نشاطك</p>
                        </div>
                        <div class="bg-white/95 p-4 md:p-6 rounded-xl border-3 border-orange-400 hover:border-orange-500 transition-all shadow-md stats-card">
                            <h4 class="font-black text-orange-700 mb-3 text-sm md:text-lg">📚 للفهم العميق:</h4>
                            <p class="text-gray-700 font-medium text-sm md:text-base">اقرأ النص أكثر من مرة وحاول فهم المعنى</p>
                        </div>
                        <div class="bg-white/95 p-4 md:p-6 rounded-xl border-3 border-pink-400 hover:border-pink-500 transition-all shadow-md stats-card">
                            <h4 class="font-black text-pink-700 mb-3 text-sm md:text-lg">🏆 للتميز:</h4>
                            <p class="text-gray-700 font-medium text-sm md:text-base">استمر في التدريب ولا تستسلم أبداً</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class SmartReadingPlatform {
            constructor() {
                // متغيرات التسجيل
                this.mediaRecorder = null;
                this.audioChunks = [];
                this.isRecording = false;
                this.recordingStartTime = null;
                this.recordingTimer = null;
                this.recordingElapsedTime = 0;
                // النصوص المتدرجة حسب الصف الدراسي (5-12) مع الحركات الكاملة
                this.texts = {
                    5: [ // الصف الخامس
                        {
                            title: "الطَّائِرُ الصَّغِيرُ",
                            content: "كَانَ هُنَاكَ طَائِرٌ صَغِيرٌ يَعِيشُ فِي غَابَةٍ جَمِيلَةٍ. كَانَ الطَّائِرُ يُحِبُّ الْغِنَاءَ كُلَّ صَبَاحٍ. فِي يَوْمٍ مِنَ الْأَيَّامِ، قَرَّرَ الطَّائِرُ أَنْ يَسْتَكْشِفَ أَجْزَاءً جَدِيدَةً مِنَ الْغَابَةِ. طَارَ عَالِيًا فَوْقَ الْأَشْجَارِ وَرَأَى مَنْظَرًا رَائِعًا. عَادَ الطَّائِرُ إِلَى عُشِّهِ سَعِيدًا بِمَا رَآهُ."
                        },
                        {
                            title: "الْفَلَّاحُ الطَّيِّبُ",
                            content: "فِي قَرْيَةٍ صَغِيرَةٍ، كَانَ يَعِيشُ فَلَّاحٌ طَيِّبُ الْقَلْبِ. كَانَ يَزْرَعُ الْخُضْرَوَاتِ وَالْفَوَاكِهَ فِي حَقْلِهِ الصَّغِيرِ. كُلَّ يَوْمٍ، كَانَ يَسْتَيْقِظُ مُبَكِّرًا لِيَعْتَنِيَ بِنَبَاتَاتِهِ. الْجِيرَانُ يُحِبُّونَهُ كَثِيرًا لِأَنَّهُ يُسَاعِدُهُمْ دَائِمًا. فِي نِهَايَةِ الْمَوْسِمِ، كَانَ مَحْصُولُهُ وَفِيرًا وَجَمِيلًا."
                        },
                        {
                            title: "الْقِطَّةُ الذَّكِيَّةُ",
                            content: "كَانَتْ هُنَاكَ قِطَّةٌ ذَكِيَّةٌ تَعِيشُ مَعَ عَائِلَةٍ كَرِيمَةٍ. كَانَتِ الْقِطَّةُ تُحِبُّ اللَّعِبَ مَعَ الْأَطْفَالِ وَالْجَرْيَ فِي الْحَدِيقَةِ. فِي يَوْمٍ مِنَ الْأَيَّامِ، ضَاعَ طِفْلٌ صَغِيرٌ فِي الْغَابَةِ. سَاعَدَتِ الْقِطَّةُ الذَّكِيَّةُ فِي الْعُثُورِ عَلَيْهِ وَإِرْشَادِهِ إِلَى الْبَيْتِ. شَكَرَتْهَا الْعَائِلَةُ وَأَعْطَتْهَا طَعَامًا لَذِيذًا."
                        }
                    ],
                    6: [ // الصف السادس
                        {
                            title: "رِحْلَةُ الِاكْتِشَافِ",
                            content: "انْطَلَقَتْ مَجْمُوعَةٌ مِنَ الطُّلَّابِ فِي رِحْلَةٍ عِلْمِيَّةٍ إِلَى الْمُتْحَفِ الطَّبِيعِيِّ. كَانُوا مُتَحَمِّسِينَ لِرُؤْيَةِ الْهَيَاكِلِ الْعَظْمِيَّةِ لِلدِّينَاصُورَاتِ وَالْحَيَوَانَاتِ الْمُنْقَرِضَةِ. شَرَحَ لَهُمُ الْمُرْشِدُ تَارِيخَ هَذِهِ الْمَخْلُوقَاتِ وَكَيْفَ عَاشَتْ عَلَى الْأَرْضِ مَلَايِينَ السِّنِينَ. تَعَلَّمَ الطُّلَّابُ أَهَمِّيَّةَ الْحِفَاظِ عَلَى الْبِيئَةِ وَحِمَايَةِ الْحَيَوَانَاتِ مِنَ الِانْقِرَاضِ."
                        },
                        {
                            title: "عَالِمُ الْفَضَاءِ الشَّابُّ",
                            content: "أَحْمَدُ طَالِبٌ فِي الْمَرْحَلَةِ الِابْتِدَائِيَّةِ يَحْلُمُ بِأَنْ يُصْبِحَ عَالِمَ فَضَاءٍ. يَقْضِي سَاعَاتٍ طَوِيلَةً فِي قِرَاءَةِ الْكُتُبِ الْعِلْمِيَّةِ وَمُشَاهَدَةِ الْأَفْلَامِ الْوَثَائِقِيَّةِ عَنِ الْكَوَاكِبِ وَالنُّجُومِ. يَسْتَخْدِمُ تِلِسْكُوبًا صَغِيرًا لِمُرَاقَبَةِ الْقَمَرِ وَالْكَوَاكِبِ فِي اللَّيْلِ. يُؤْمِنُ أَحْمَدُ بِأَنَّ الْعِلْمَ وَالْمَعْرِفَةَ هُمَا مِفْتَاحُ التَّقَدُّمِ وَالنَّجَاحِ."
                        },
                        {
                            title: "الْمَكْتَبَةُ الْعَامَّةُ",
                            content: "تُعْتَبَرُ الْمَكْتَبَةُ الْعَامَّةُ مَكَانًا مُهِمًّا لِلتَّعَلُّمِ وَالْمَعْرِفَةِ فِي كُلِّ مُجْتَمَعٍ. تَحْتَوِي عَلَى آلَافِ الْكُتُبِ فِي مُخْتَلِفِ الْمَجَالَاتِ وَالْعُلُومِ. يَأْتِي إِلَيْهَا الطُّلَّابُ وَالْبَاحِثُونَ لِلدِّرَاسَةِ وَالْبَحْثِ عَنِ الْمَعْلُومَاتِ. تُوَفِّرُ الْمَكْتَبَةُ أَيْضًا خَدَمَاتٍ رَقْمِيَّةً حَدِيثَةً مِثْلَ الْإِنْتَرْنِتِ وَالْحَاسُوبِ. إِنَّهَا مَكَانٌ هَادِئٌ وَمُنَاسِبٌ لِلتَّرْكِيزِ وَالتَّفْكِيرِ."
                        }
                    ],
                    7: [ // الصف السابع
                        {
                            title: "التِّكْنُولُوجِيَا فِي التَّعْلِيمِ",
                            content: "شَهِدَ الْعَقْدُ الْأَخِيرُ تَطَوُّرًا كَبِيرًا فِي اسْتِخْدَامِ التِّكْنُولُوجِيَا فِي التَّعْلِيمِ. أَصْبَحَتِ الْفُصُولُ الذَّكِيَّةُ وَالتَّعَلُّمُ الْإِلِكْتُرُونِيُّ جُزْءًا مُهِمًّا مِنَ الْعَمَلِيَّةِ التَّعْلِيمِيَّةِ. تُسَاعِدُ هَذِهِ التِّقْنِيَّاتُ الطُّلَّابَ عَلَى فَهْمِ الْمَفَاهِيمِ الصَّعْبَةِ بِطَرِيقَةٍ تَفَاعُلِيَّةٍ وَمُمْتِعَةٍ. كَمَا تُتِيحُ لِلْمُعَلِّمِينَ إِمْكَانِيَّةَ تَخْصِيصِ التَّعْلِيمِ حَسَبَ احْتِيَاجَاتِ كُلِّ طَالِبٍ."
                        },
                        {
                            title: "الطَّاقَةُ الْمُتَجَدِّدَةُ",
                            content: "تُعَدُّ الطَّاقَةُ الْمُتَجَدِّدَةُ مِنْ أَهَمِّ الْحُلُولِ لِمُوَاجَهَةِ مُشْكِلَةِ التَّلَوُّثِ وَالْحِفَاظِ عَلَى الْبِيئَةِ. تَشْمَلُ مَصَادِرُ الطَّاقَةِ الْمُتَجَدِّدَةِ الطَّاقَةَ الشَّمْسِيَّةَ وَطَاقَةَ الرِّيَاحِ وَالطَّاقَةَ الْمَائِيَّةَ. تَسْتَثْمِرُ الْعَدِيدُ مِنَ الدُّوَلِ أَمْوَالًا كَثِيرَةً فِي تَطْوِيرِ هَذِهِ التِّقْنِيَّاتِ لِتَقْلِيلِ الِاعْتِمَادِ عَلَى الْوَقُودِ التَّقْلِيدِيِّ."
                        },
                        {
                            title: "أَهَمِّيَّةُ الْقِرَاءَةِ",
                            content: "الْقِرَاءَةُ هِيَ مِفْتَاحُ الْمَعْرِفَةِ وَالتَّقَدُّمِ فِي الْحَيَاةِ. تُسَاعِدُ الْقِرَاءَةُ عَلَى تَنْمِيَةِ الْعَقْلِ وَتَوْسِيعِ الْآفَاقِ وَزِيَادَةِ الثَّقَافَةِ الْعَامَّةِ. كَمَا تُحَسِّنُ مِنْ مَهَارَاتِ التَّفْكِيرِ النَّقْدِيِّ وَالتَّحْلِيلِ. يَجِبُ عَلَى كُلِّ طَالِبٍ أَنْ يَجْعَلَ الْقِرَاءَةَ عَادَةً يَوْمِيَّةً لِيَسْتَفِيدَ مِنْ فَوَائِدِهَا الْعَظِيمَةِ فِي تَطْوِيرِ شَخْصِيَّتِهِ وَمَهَارَاتِهِ."
                        }
                    ],
                    8: [ // الصف الثامن
                        {
                            title: "الذَّكَاءُ الِاصْطِنَاعِيُّ",
                            content: "يُمَثِّلُ الذَّكَاءُ الِاصْطِنَاعِيُّ ثَوْرَةً حَقِيقِيَّةً فِي عَالَمِ التِّكْنُولُوجِيَا الْحَدِيثَةِ. يُحَاكِي هَذَا الْعِلْمُ قُدْرَاتِ الْعَقْلِ الْبَشَرِيِّ فِي التَّعَلُّمِ وَالِاسْتِنْتَاجِ وَحَلِّ الْمُشْكِلَاتِ. تَتَنَوَّعُ تَطْبِيقَاتُهُ مِنَ الطِّبِّ وَالْهَنْدَسَةِ إِلَى التَّعْلِيمِ وَالْفُنُونِ. وَرَغْمَ الْفَوَائِدِ الْكَثِيرَةِ الَّتِي يُقَدِّمُهَا، إِلَّا أَنَّهُ يُثِيرُ أَسْئِلَةً مُهِمَّةً حَوْلَ مُسْتَقْبَلِ الْعَمَلِ وَالْأَمَانِ."
                        },
                        {
                            title: "الْحَضَارَةُ الْإِسْلَامِيَّةُ",
                            content: "أَسْهَمَتِ الْحَضَارَةُ الْإِسْلَامِيَّةُ إِسْهَامَاتٍ عَظِيمَةً فِي تَقَدُّمِ الْعُلُومِ وَالْمَعَارِفِ الْإِنْسَانِيَّةِ. بَرَعَ الْعُلَمَاءُ الْمُسْلِمُونَ فِي الرِّيَاضِيَّاتِ وَالْفَلَكِ وَالطِّبِّ وَالْكِيمْيَاءِ وَالْفَلْسَفَةِ. أَسَّسُوا بُيُوتَ الْحِكْمَةِ وَالْمَكْتَبَاتِ الْكَبِيرَةَ، وَتَرْجَمُوا التُّرَاثَ الْيُونَانِيَّ وَالْفَارِسِيَّ، مُضِيفِينَ إِلَيْهِ اكْتِشَافَاتِهِمْ الْجَدِيدَةَ الَّتِي أَثَّرَتْ عَلَى النَّهْضَةِ الْأُورُوبِّيَّةِ."
                        },
                        {
                            title: "الِاسْتِدَامَةُ الْبِيئِيَّةُ",
                            content: "تُشَكِّلُ الِاسْتِدَامَةُ الْبِيئِيَّةُ أَحَدَ أَهَمِّ التَّحَدِّيَاتِ الَّتِي تُوَاجِهُ الْعَالَمَ الْيَوْمَ. تَهْدِفُ إِلَى تَحْقِيقِ التَّوَازُنِ بَيْنَ التَّنْمِيَةِ الِاقْتِصَادِيَّةِ وَالْحِفَاظِ عَلَى الْمَوَارِدِ الطَّبِيعِيَّةِ لِلْأَجْيَالِ الْقَادِمَةِ. تَتَطَلَّبُ هَذِهِ الْعَمَلِيَّةُ تَعَاوُنَ الْحُكُومَاتِ وَالشَّرِكَاتِ وَالْأَفْرَادِ لِتَبَنِّي مُمَارَسَاتٍ صَدِيقَةٍ لِلْبِيئَةِ وَتَطْوِيرِ تِقْنِيَّاتٍ نَظِيفَةٍ."
                        }
                    ],
                    9: [ // الصف التاسع
                        {
                            title: "ثَوْرَةُ الْمَعْلُومَاتِ",
                            content: "نَعِيشُ الْيَوْمَ فِي عَصْرِ ثَوْرَةِ الْمَعْلُومَاتِ، حَيْثُ أَصْبَحَتِ الْمَعْرِفَةُ وَالْبَيَانَاتُ أَهَمَّ مَوَارِدِ الْقُوَّةِ وَالتَّقَدُّمِ. غَيَّرَتِ الْإِنْتَرْنِتُ وَالتِّكْنُولُوجِيَا الرَّقْمِيَّةُ طَرِيقَةَ تَعَامُلِنَا مَعَ الْمَعْلُومَاتِ وَتَبَادُلِهَا. أَصْبَحَ بِإِمْكَانِ أَيِّ شَخْصٍ الْوُصُولُ إِلَى كَمِّيَّاتٍ هَائِلَةٍ مِنَ الْمَعْلُومَاتِ فِي ثَوَانٍ مَعْدُودَةٍ. هَذَا التَّطَوُّرُ خَلَقَ فُرَصًا جَدِيدَةً وَتَحَدِّيَاتٍ مُعَقَّدَةً فِي مَجَالَاتِ التَّعْلِيمِ وَالْعَمَلِ وَالتَّوَاصُلِ الِاجْتِمَاعِيِّ."
                        },
                        {
                            title: "التَّنَوُّعُ الثَّقَافِيُّ",
                            content: "يُعَدُّ التَّنَوُّعُ الثَّقَافِيُّ مِنْ أَعْظَمِ ثَرَوَاتِ الْبَشَرِيَّةِ، فَهُوَ يُثْرِي الْحَيَاةَ الْإِنْسَانِيَّةَ وَيُوَسِّعُ آفَاقَ الْفَهْمِ وَالْإِبْدَاعِ. كُلُّ ثَقَافَةٍ تَحْمِلُ فِي طَيَّاتِهَا تَجَارِبَ وَحِكَمًا وَفُنُونًا فَرِيدَةً تُسَاهِمُ فِي إِغْنَاءِ التُّرَاثِ الْإِنْسَانِيِّ الْمُشْتَرَكِ. إِنَّ احْتِرَامَ التَّنَوُّعِ الثَّقَافِيِّ وَالتَّعَلُّمَ مِنْهُ يُعَزِّزُ التَّفَاهُمَ بَيْنَ الشُّعُوبِ وَيَبْنِي جُسُورَ السَّلَامِ وَالتَّعَاوُنِ فِي عَالَمٍ مُتَرَابِطٍ."
                        },
                        {
                            title: "مُسْتَقْبَلُ الطَّاقَةِ",
                            content: "يَشْهَدُ قِطَاعُ الطَّاقَةِ تَحَوُّلًا جَذْرِيًّا نَحْوَ مَصَادِرَ أَكْثَرَ اسْتِدَامَةً وَنَظَافَةً. تَتَسَارَعُ وَتِيرَةُ الِاسْتِثْمَارِ فِي تِقْنِيَّاتِ الطَّاقَةِ الشَّمْسِيَّةِ وَطَاقَةِ الرِّيَاحِ وَالطَّاقَةِ الْمَائِيَّةِ، بَيْنَمَا تَنْخَفِضُ تَكَالِيفُهَا بِشَكْلٍ مُسْتَمِرٍّ. تُوَاجِهُ الْبَشَرِيَّةُ تَحَدِّيَ الِانْتِقَالِ مِنَ الِاعْتِمَادِ عَلَى الْوَقُودِ الْأُحْفُورِيِّ إِلَى نِظَامٍ طَاقَوِيٍّ مُسْتَدَامٍ يَضْمَنُ مُسْتَقْبَلًا أَفْضَلَ لِلْأَجْيَالِ الْقَادِمَةِ."
                        }
                    ],
                    10: [ // الصف العاشر
                        {
                            title: "الثَّوْرَةُ الصِّنَاعِيَّةُ الرَّابِعَةُ",
                            content: "نَقِفُ الْيَوْمَ عَلَى أَعْتَابِ الثَّوْرَةِ الصِّنَاعِيَّةِ الرَّابِعَةِ، الَّتِي تَتَمَيَّزُ بِالدَّمْجِ بَيْنَ التِّقْنِيَّاتِ الرَّقْمِيَّةِ وَالْفِيزِيَائِيَّةِ وَالْبَيُولُوجِيَّةِ. تَشْمَلُ هَذِهِ الثَّوْرَةُ تِقْنِيَّاتٍ مُتَقَدِّمَةً مِثْلَ الذَّكَاءِ الِاصْطِنَاعِيِّ وَإِنْتَرْنِتِ الْأَشْيَاءِ وَالطِّبَاعَةِ ثُلَاثِيَّةِ الْأَبْعَادِ وَالرُّوبُوتَاتِ الْمُتَطَوِّرَةِ. هَذِهِ التَّطَوُّرَاتُ تُعِيدُ تَشْكِيلَ طَرِيقَةِ عَمَلِنَا وَعَيْشِنَا وَتَفَاعُلِنَا مَعَ الْعَالَمِ مِنْ حَوْلِنَا، مِمَّا يَتَطَلَّبُ إِعَادَةَ النَّظَرِ فِي أَنْظِمَةِ التَّعْلِيمِ وَالتَّدْرِيبِ لِمُوَاكَبَةِ هَذِهِ التَّغْيِيرَاتِ الْجَذْرِيَّةِ."
                        },
                        {
                            title: "الْعَوْلَمَةُ وَتَأْثِيرُهَا",
                            content: "تُعَرَّفُ الْعَوْلَمَةُ بِأَنَّهَا عَمَلِيَّةُ التَّكَامُلِ الْمُتَزَايِدِ بَيْنَ دُوَلِ الْعَالَمِ فِي الْمَجَالَاتِ الِاقْتِصَادِيَّةِ وَالثَّقَافِيَّةِ وَالسِّيَاسِيَّةِ وَالِاجْتِمَاعِيَّةِ. لَقَدْ سَهَّلَتْ وَسَائِلُ النَّقْلِ الْحَدِيثَةُ وَتِقْنِيَّاتُ الِاتِّصَالِ هَذِهِ الْعَمَلِيَّةَ بِشَكْلٍ كَبِيرٍ. وَرَغْمَ الْفَوَائِدِ الْعَدِيدَةِ لِلْعَوْلَمَةِ مِثْلَ تَبَادُلِ الْمَعْرِفَةِ وَالتِّجَارَةِ، إِلَّا أَنَّهَا تُثِيرُ تَحَدِّيَاتٍ مُهِمَّةً تَتَعَلَّقُ بِالْهُوِيَّةِ الثَّقَافِيَّةِ وَالْعَدَالَةِ الِاقْتِصَادِيَّةِ."
                        },
                        {
                            title: "التَّغَيُّرُ الْمُنَاخِيُّ",
                            content: "يُعَدُّ التَّغَيُّرُ الْمُنَاخِيُّ مِنْ أَخْطَرِ التَّحَدِّيَاتِ الَّتِي تُوَاجِهُ كَوْكَبَ الْأَرْضِ فِي الْقَرْنِ الْحَادِي وَالْعِشْرِينَ. يَنْتُجُ هَذَا التَّغَيُّرُ بِشَكْلٍ أَسَاسِيٍّ عَنِ الْأَنْشِطَةِ الْبَشَرِيَّةِ، خَاصَّةً حَرْقِ الْوَقُودِ الْأُحْفُورِيِّ وَإِزَالَةِ الْغَابَاتِ. تَشْمَلُ آثَارُهُ ارْتِفَاعَ دَرَجَاتِ الْحَرَارَةِ وَذَوَبَانَ الْأَنْهَارِ الْجَلِيدِيَّةِ وَارْتِفَاعَ مُسْتَوَى سَطْحِ الْبَحْرِ وَتَغَيُّرَ أَنْمَاطِ الْهُطُولِ. يَتَطَلَّبُ مُوَاجَهَةُ هَذَا التَّحَدِّي تَعَاوُنًا دُوَلِيًّا وَاسِعًا وَاتِّخَاذَ إِجْرَاءَاتٍ عَاجِلَةٍ لِتَقْلِيلِ انْبِعَاثَاتِ غَازَاتِ الِاحْتِبَاسِ الْحَرَارِيِّ."
                        }
                    ],
                    11: [ // الصف الحادي عشر
                        {
                            title: "فَلْسَفَةُ الْعِلْمِ وَالْمَعْرِفَةِ",
                            content: "تَتَنَاوَلُ فَلْسَفَةُ الْعِلْمِ الْأُسُسَ النَّظَرِيَّةَ وَالْمَنْهَجِيَّةَ الَّتِي يَقُومُ عَلَيْهَا الْبَحْثُ الْعِلْمِيُّ وَاكْتِسَابُ الْمَعْرِفَةِ. تَطْرَحُ أَسْئِلَةً جَوْهَرِيَّةً حَوْلَ طَبِيعَةِ الْحَقِيقَةِ الْعِلْمِيَّةِ وَمَدَى مَوْثُوقِيَّةِ الْمَعْرِفَةِ الْإِنْسَانِيَّةِ. يُنَاقِشُ الْفَلَاسِفَةُ مَفَاهِيمَ مُعَقَّدَةً مِثْلَ الِاسْتِقْرَاءِ وَالِاسْتِنْبَاطِ وَالْفَرْضِيَّاتِ الْعِلْمِيَّةِ وَقَابِلِيَّةِ التَّكْذِيبِ. هَذِهِ الْمُنَاقَشَاتُ لَا تُسَاهِمُ فَقَطْ فِي فَهْمِ الْعِلْمِ بَلْ تُؤَثِّرُ أَيْضًا عَلَى تَطْوِيرِ الْمَنَاهِجِ التَّعْلِيمِيَّةِ وَالسِّيَاسَاتِ الْعِلْمِيَّةِ."
                        },
                        {
                            title: "الْأَدَبُ وَالْهُوِيَّةُ الثَّقَافِيَّةُ",
                            content: "يَلْعَبُ الْأَدَبُ دَوْرًا مَحْوَرِيًّا فِي تَشْكِيلِ الْهُوِيَّةِ الثَّقَافِيَّةِ لِلشُّعُوبِ وَالْأُمَمِ عَبْرَ التَّارِيخِ. يُعَبِّرُ الْأَدَبُ عَنِ الْقِيَمِ وَالْمُعْتَقَدَاتِ وَالتَّجَارِبِ الْإِنْسَانِيَّةِ بِطَرِيقَةٍ فَنِّيَّةٍ مُؤَثِّرَةٍ، وَيَحْفَظُ التُّرَاثَ الشَّعْبِيَّ وَيَنْقُلُهُ عَبْرَ الْأَجْيَالِ. فِي عَصْرِ الْعَوْلَمَةِ، يُوَاجِهُ الْأَدَبُ تَحَدِّيَاتٍ جَدِيدَةً فِي الْحِفَاظِ عَلَى الْخُصُوصِيَّةِ الثَّقَافِيَّةِ مَعَ الِانْفِتَاحِ عَلَى الثَّقَافَاتِ الْأُخْرَى. يُسَاهِمُ الْأَدَبُ الْمُعَاصِرُ فِي مُعَالَجَةِ قَضَايَا الْهُوِيَّةِ وَالِانْتِمَاءِ وَالتَّفَاعُلِ الْحَضَارِيِّ."
                        },
                        {
                            title: "الِاقْتِصَادُ الرَّقْمِيُّ",
                            content: "يُمَثِّلُ الِاقْتِصَادُ الرَّقْمِيُّ نَمُوذَجًا اقْتِصَادِيًّا جَدِيدًا يَعْتَمِدُ عَلَى التِّقْنِيَّاتِ الرَّقْمِيَّةِ وَالْبَيَانَاتِ كَمُحَرِّكَاتٍ أَسَاسِيَّةٍ لِلنُّمُوِّ وَالِابْتِكَارِ. يَشْمَلُ هَذَا الِاقْتِصَادُ قِطَاعَاتٍ مُتَنَوِّعَةً مِثْلَ التِّجَارَةِ الْإِلِكْتُرُونِيَّةِ وَالْخَدَمَاتِ الْمَصْرِفِيَّةِ الرَّقْمِيَّةِ وَمِنَصَّاتِ التَّوَاصُلِ الِاجْتِمَاعِيِّ وَالذَّكَاءِ الِاصْطِنَاعِيِّ. يُوَفِّرُ الِاقْتِصَادُ الرَّقْمِيُّ فُرَصًا هَائِلَةً لِلنُّمُوِّ وَخَلْقِ فُرَصِ عَمَلٍ جَدِيدَةٍ، لَكِنَّهُ يَطْرَحُ أَيْضًا تَحَدِّيَاتٍ تَتَعَلَّقُ بِالْخُصُوصِيَّةِ وَالْأَمَانِ السَّيْبَرَانِيِّ وَالْفَجْوَةِ الرَّقْمِيَّةِ."
                        }
                    ],
                    12: [ // الصف الثاني عشر
                        {
                            title: "الْفِكْرُ النَّقْدِيُّ وَالْمَنْهَجُ الْعِلْمِيُّ",
                            content: "يُعَدُّ الْفِكْرُ النَّقْدِيُّ مِنْ أَهَمِّ الْمَهَارَاتِ الَّتِي يَحْتَاجُهَا الْإِنْسَانُ فِي الْقَرْنِ الْحَادِي وَالْعِشْرِينَ لِمُوَاجَهَةِ تَعْقِيدَاتِ الْعَالَمِ الْحَدِيثِ. يَتَضَمَّنُ هَذَا الْفِكْرُ الْقُدْرَةَ عَلَى التَّحْلِيلِ الْمَوْضُوعِيِّ وَالتَّقْيِيمِ الْمَنْطِقِيِّ لِلْمَعْلُومَاتِ وَالْحُجَجِ وَالِادِّعَاءَاتِ. يَرْتَبِطُ الْفِكْرُ النَّقْدِيُّ ارْتِبَاطًا وَثِيقًا بِالْمَنْهَجِ الْعِلْمِيِّ الَّذِي يَعْتَمِدُ عَلَى الْمُلَاحَظَةِ وَالْفَرْضِيَّاتِ وَالتَّجْرِيبِ وَالتَّحْلِيلِ. إِنَّ تَطْوِيرَ هَذِهِ الْمَهَارَاتِ يُمَكِّنُ الْأَفْرَادَ مِنَ اتِّخَاذِ قَرَارَاتٍ مَدْرُوسَةٍ وَمُوَاجَهَةِ التَّضْلِيلِ وَالْأَخْبَارِ الْمُزَيَّفَةِ الَّتِي تَنْتَشِرُ بِسُرْعَةٍ فِي عَصْرِ الْمَعْلُومَاتِ."
                        },
                        {
                            title: "الْقِيَادَةُ وَالتَّأْثِيرُ الِاجْتِمَاعِيُّ",
                            content: "تُعَرَّفُ الْقِيَادَةُ بِأَنَّهَا الْقُدْرَةُ عَلَى التَّأْثِيرِ فِي الْآخَرِينَ وَتَوْجِيهِهِمْ نَحْوَ تَحْقِيقِ أَهْدَافٍ مُشْتَرَكَةٍ. تَتَطَلَّبُ الْقِيَادَةُ الْفَعَّالَةُ مَجْمُوعَةً مُتَنَوِّعَةً مِنَ الْمَهَارَاتِ تَشْمَلُ التَّوَاصُلَ وَالتَّفَاوُضَ وَحَلَّ الْمُشْكِلَاتِ وَاتِّخَاذَ الْقَرَارَاتِ تَحْتَ الضَّغْطِ. فِي عَالَمٍ مُتَغَيِّرٍ وَمُعَقَّدٍ، تَحْتَاجُ الْمُجْتَمَعَاتُ إِلَى قَادَةٍ يَتَمَتَّعُونَ بِالرُّؤْيَةِ الِاسْتِرَاتِيجِيَّةِ وَالْمَرُونَةِ وَالْقُدْرَةِ عَلَى الِابْتِكَارِ. كَمَا تَتَطَلَّبُ الْقِيَادَةُ الْحَدِيثَةُ فَهْمًا عَمِيقًا لِلتَّنَوُّعِ الثَّقَافِيِّ وَالِاجْتِمَاعِيِّ وَالْقُدْرَةَ عَلَى بِنَاءِ فِرَقِ عَمَلٍ مُتَمَاسِكَةٍ وَمُنْتِجَةٍ."
                        },
                        {
                            title: "مُسْتَقْبَلُ الْحَضَارَةِ الْإِنْسَانِيَّةِ",
                            content: "تَقِفُ الْحَضَارَةُ الْإِنْسَانِيَّةُ الْيَوْمَ عَلَى مُفْتَرَقِ طُرُقٍ حَاسِمٍ، حَيْثُ تَتَقَاطَعُ التَّطَوُّرَاتُ التِّقْنِيَّةُ الْهَائِلَةُ مَعَ التَّحَدِّيَاتِ الْبِيئِيَّةِ وَالِاجْتِمَاعِيَّةِ الْمُعَقَّدَةِ. يَحْمِلُ الْمُسْتَقْبَلُ إِمْكَانَاتٍ لَا مَحْدُودَةً لِلتَّقَدُّمِ فِي مَجَالَاتِ الطِّبِّ وَالْفَضَاءِ وَالطَّاقَةِ وَالذَّكَاءِ الِاصْطِنَاعِيِّ، لَكِنَّهُ يَطْرَحُ أَيْضًا أَسْئِلَةً أَخْلَاقِيَّةً وَفَلْسَفِيَّةً عَمِيقَةً حَوْلَ مَعْنَى الْإِنْسَانِيَّةِ وَالْعَدَالَةِ وَالْكَرَامَةِ. إِنَّ بِنَاءَ مُسْتَقْبَلٍ مُسْتَدَامٍ وَعَادِلٍ يَتَطَلَّبُ تَعَاوُنًا عَالَمِيًّا وَحِكْمَةً جَمَاعِيَّةً وَالْتِزَامًا بِالْقِيَمِ الْإِنْسَانِيَّةِ الْعُلْيَا."
                        }
                    ]
                };

                this.currentLevel = 5;
                this.currentTextIndex = 0;
                this.isReading = false;
                this.startTime = null;
                this.currentWordIndex = 0;
                this.words = [];
                this.timer = null;
                this.elapsedTime = 0;
                
                // إحصائيات
                this.stats = {
                    totalSessions: 0,
                    totalWords: 0,
                    totalTime: 0,
                    bestSpeed: 0,
                    avgSpeed: 0
                };

                this.init();
            }

            init() {
                this.loadStats();
                this.setupEventListeners();
                this.updateText();
                this.updateEncouragement();
                this.updateStats();
                this.setCurrentDate();
            }

            setupEventListeners() {
                // أزرار التحكم
                document.getElementById('startBtn').addEventListener('click', () => this.startReading());
                document.getElementById('pauseBtn').addEventListener('click', () => this.pauseReading());
                document.getElementById('resetBtn').addEventListener('click', () => this.resetReading());

                // محدد المستوى
                document.querySelectorAll('.level-button').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const level = parseInt(e.currentTarget.dataset.level);
                        this.changeLevel(level);
                    });
                });

                // محدد النص
                document.getElementById('textSelect').addEventListener('change', (e) => {
                    this.currentTextIndex = parseInt(e.target.value);
                    this.updateText();
                    this.resetReading();
                });

                // مسح الإحصائيات
                document.getElementById('clearStats').addEventListener('click', () => this.clearStats());

                // أزرار التسجيل
                document.getElementById('startRecordingBtn').addEventListener('click', () => this.startRecording());
                document.getElementById('stopRecordingBtn').addEventListener('click', () => this.stopRecording());
                document.getElementById('downloadReportBtn').addEventListener('click', () => this.downloadReport());
            }

            changeLevel(level) {
                this.currentLevel = level;
                this.currentTextIndex = 0;
                
                // تحديث الأزرار
                document.querySelectorAll('.level-button').forEach(btn => btn.classList.remove('active'));
                document.querySelector(`[data-level="${level}"]`).classList.add('active');
                
                // تحديث النص
                document.getElementById('textSelect').value = '0';
                this.updateText();
                this.resetReading();
                this.updateEncouragement();
                
                // تحديث عرض المستوى
                document.getElementById('level').textContent = level;
            }

            updateText() {
                const textData = this.texts[this.currentLevel][this.currentTextIndex];
                const readingTextElement = document.getElementById('readingText');
                
                // تحديث النص مع الكلاس المناسب للمستوى
                readingTextElement.className = `reading-text level-${this.currentLevel}`;
                readingTextElement.innerHTML = textData.content;
                
                // تقسيم النص إلى كلمات
                this.words = textData.content.split(/\s+/).filter(word => word.length > 0);
                
                // تحديث شريط التقدم
                this.updateProgress();
            }

            updateEncouragement() {
                const encouragements = {
                    5: {
                        title: "🌟 أنت بطل صغير!",
                        text: "كل كلمة تقرأها تجعلك أقوى وأذكى. استمر في التقدم!"
                    },
                    6: {
                        title: "🚀 تطور رائع!",
                        text: "قراءتك تتحسن كل يوم. أنت في الطريق الصحيح نحو التميز!"
                    },
                    7: {
                        title: "⭐ مهارات متقدمة!",
                        text: "أصبحت قارئاً ماهراً. استمر في التحدي وتطوير قدراتك!"
                    },
                    8: {
                        title: "🎯 دقة وتركيز!",
                        text: "قراءتك دقيقة ومركزة. أنت تبني أساساً قوياً للمستقبل!"
                    },
                    9: {
                        title: "🏆 إنجاز متميز!",
                        text: "وصلت لمستوى عالٍ من الإتقان. استمر في السعي للتفوق!"
                    },
                    10: {
                        title: "👑 قارئ متفوق!",
                        text: "مهاراتك في القراءة أصبحت احترافية. أنت مثال يُحتذى به!"
                    },
                    11: {
                        title: "🌟 تميز استثنائي!",
                        text: "قراءتك تعكس فهماً عميقاً وثقافة واسعة. واصل التألق!"
                    },
                    12: {
                        title: "🏅 قمة الإتقان!",
                        text: "وصلت لأعلى مستويات القراءة. أنت جاهز لتحديات المستقبل!"
                    }
                };

                const encouragement = encouragements[this.currentLevel];
                document.getElementById('encouragementTitle').textContent = encouragement.title;
                document.getElementById('encouragementText').textContent = encouragement.text;
            }

            startReading() {
                if (!this.isReading) {
                    this.isReading = true;
                    this.startTime = Date.now() - this.elapsedTime;
                    
                    // تحديث الأزرار
                    document.getElementById('startBtn').disabled = true;
                    document.getElementById('pauseBtn').disabled = false;
                    
                    // بدء المؤقت
                    this.timer = setInterval(() => {
                        this.elapsedTime = Date.now() - this.startTime;
                        this.updateTimer();
                        this.updateReadingStats();
                    }, 100);
                    
                    // بدء تمييز الكلمات
                    this.highlightWords();
                }
            }

            pauseReading() {
                if (this.isReading) {
                    this.isReading = false;
                    clearInterval(this.timer);
                    
                    // تحديث الأزرار
                    document.getElementById('startBtn').disabled = false;
                    document.getElementById('pauseBtn').disabled = true;
                }
            }

            resetReading() {
                this.isReading = false;
                this.elapsedTime = 0;
                this.currentWordIndex = 0;
                
                if (this.timer) {
                    clearInterval(this.timer);
                }
                
                // تحديث الأزرار
                document.getElementById('startBtn').disabled = false;
                document.getElementById('pauseBtn').disabled = true;
                
                // إعادة تعيين العرض
                this.updateTimer();
                this.updateProgress();
                this.updateReadingStats();
                this.updateText();
            }

            highlightWords() {
                if (!this.isReading || this.currentWordIndex >= this.words.length) {
                    if (this.currentWordIndex >= this.words.length) {
                        this.completeReading();
                    }
                    return;
                }

                const readingTextElement = document.getElementById('readingText');
                const words = this.words;
                
                // إنشاء HTML مع تمييز الكلمة الحالية
                let html = '';
                for (let i = 0; i < words.length; i++) {
                    if (i === this.currentWordIndex) {
                        html += `<span class="word-highlight">${words[i]}</span> `;
                    } else {
                        html += `${words[i]} `;
                    }
                }
                
                readingTextElement.innerHTML = html;
                
                // الانتقال للكلمة التالية
                setTimeout(() => {
                    this.currentWordIndex++;
                    this.updateProgress();
                    if (this.isReading) {
                        this.highlightWords();
                    }
                }, 800); // سرعة مناسبة للقراءة
            }

            completeReading() {
                this.pauseReading();
                
                // حفظ الإحصائيات
                this.stats.totalSessions++;
                this.stats.totalWords += this.words.length;
                this.stats.totalTime += Math.floor(this.elapsedTime / 1000);
                
                const currentSpeed = this.calculateSpeed();
                if (currentSpeed > this.stats.bestSpeed) {
                    this.stats.bestSpeed = currentSpeed;
                }
                
                this.stats.avgSpeed = Math.floor(this.stats.totalWords / (this.stats.totalTime / 60));
                
                this.saveStats();
                this.updateStats();
                
                // عرض رسالة تهنئة
                this.showCelebration();
            }

            updateTimer() {
                const minutes = Math.floor(this.elapsedTime / 60000);
                const seconds = Math.floor((this.elapsedTime % 60000) / 1000);
                document.getElementById('timerDisplay').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }

            updateProgress() {
                const progress = (this.currentWordIndex / this.words.length) * 100;
                document.getElementById('progressBar').style.width = `${progress}%`;
                document.getElementById('progressText').textContent = `${this.currentWordIndex} / ${this.words.length}`;
            }

            updateReadingStats() {
                document.getElementById('wordsRead').textContent = this.currentWordIndex;
                document.getElementById('readingSpeed').textContent = this.calculateSpeed();
                document.getElementById('accuracy').textContent = '100%'; // يمكن تطويرها لاحقاً
            }

            calculateSpeed() {
                if (this.elapsedTime === 0) return 0;
                const minutes = this.elapsedTime / 60000;
                return Math.floor(this.currentWordIndex / minutes);
            }

            updateStats() {
                document.getElementById('totalSessions').textContent = this.stats.totalSessions;
                document.getElementById('totalWords').textContent = this.stats.totalWords;
                document.getElementById('avgSpeed').textContent = this.stats.avgSpeed;
                document.getElementById('bestSpeed').textContent = this.stats.bestSpeed;
                document.getElementById('totalTime').textContent = Math.floor(this.stats.totalTime / 60) + 'د';
            }

            showCelebration() {
                // إنشاء تأثير الاحتفال
                const celebration = document.getElementById('celebrationEffect');
                celebration.classList.remove('hidden');
                
                // إضافة كونفيتي
                for (let i = 0; i < 50; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.backgroundColor = ['#f39c12', '#e74c3c', '#3498db', '#2ecc71', '#9b59b6'][Math.floor(Math.random() * 5)];
                    confetti.style.animationDelay = Math.random() * 3 + 's';
                    celebration.appendChild(confetti);
                }
                
                // إخفاء التأثير بعد 5 ثوان
                setTimeout(() => {
                    celebration.classList.add('hidden');
                    celebration.innerHTML = '';
                }, 5000);
                
                // عرض رسالة تهنئة
                alert('🎉 تهانينا! لقد أكملت قراءة النص بنجاح! 🎉');
            }

            saveStats() {
                localStorage.setItem('readingStats', JSON.stringify(this.stats));
            }

            loadStats() {
                const saved = localStorage.getItem('readingStats');
                if (saved) {
                    this.stats = JSON.parse(saved);
                }
            }

            clearStats() {
                if (confirm('هل أنت متأكد من مسح جميع الإحصائيات؟')) {
                    this.stats = {
                        totalSessions: 0,
                        totalWords: 0,
                        totalTime: 0,
                        bestSpeed: 0,
                        avgSpeed: 0
                    };
                    this.saveStats();
                    this.updateStats();
                }
            }

            setCurrentDate() {
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('sessionDate').value = today;
            }

            async startRecording() {
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                    this.mediaRecorder = new MediaRecorder(stream);
                    this.audioChunks = [];
                    
                    this.mediaRecorder.ondataavailable = (event) => {
                        this.audioChunks.push(event.data);
                    };
                    
                    this.mediaRecorder.onstop = () => {
                        const audioBlob = new Blob(this.audioChunks, { type: 'audio/wav' });
                        this.audioUrl = URL.createObjectURL(audioBlob);
                    };
                    
                    this.mediaRecorder.start();
                    this.isRecording = true;
                    this.recordingStartTime = Date.now();
                    this.recordingElapsedTime = 0;
                    
                    // تحديث واجهة المستخدم
                    document.getElementById('startRecordingBtn').disabled = true;
                    document.getElementById('stopRecordingBtn').disabled = false;
                    document.getElementById('recordingStatus').classList.remove('hidden');
                    
                    // بدء مؤقت التسجيل
                    this.recordingTimer = setInterval(() => {
                        this.recordingElapsedTime = Date.now() - this.recordingStartTime;
                        this.updateRecordingTimer();
                    }, 1000);
                    
                } catch (error) {
                    alert('خطأ في الوصول للميكروفون. تأكد من السماح بالوصول للميكروفون.');
                    console.error('Error accessing microphone:', error);
                }
            }

            stopRecording() {
                if (this.mediaRecorder && this.isRecording) {
                    this.mediaRecorder.stop();
                    this.isRecording = false;
                    
                    // إيقاف جميع المسارات الصوتية
                    this.mediaRecorder.stream.getTracks().forEach(track => track.stop());
                    
                    // تحديث واجهة المستخدم
                    document.getElementById('startRecordingBtn').disabled = false;
                    document.getElementById('stopRecordingBtn').disabled = true;
                    document.getElementById('recordingStatus').classList.add('hidden');
                    
                    // إيقاف مؤقت التسجيل
                    if (this.recordingTimer) {
                        clearInterval(this.recordingTimer);
                    }
                    
                    alert('تم إيقاف التسجيل بنجاح! يمكنك الآن تنزيل التقرير.');
                }
            }

            updateRecordingTimer() {
                const minutes = Math.floor(this.recordingElapsedTime / 60000);
                const seconds = Math.floor((this.recordingElapsedTime % 60000) / 1000);
                document.getElementById('recordingTimer').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }

            downloadReport() {
                const studentName = document.getElementById('studentName').value || 'غير محدد';
                const schoolName = document.getElementById('schoolName').value || 'غير محدد';
                const studentGrade = document.getElementById('studentGrade').value;
                const sessionDate = document.getElementById('sessionDate').value;
                
                if (!studentName || studentName === 'غير محدد') {
                    alert('يرجى إدخال اسم الطالب أولاً');
                    return;
                }
                
                // إنشاء التقرير
                const report = this.generateReport(studentName, schoolName, studentGrade, sessionDate);
                
                // تنزيل التقرير كملف HTML
                this.downloadHTMLReport(report, studentName);
                
                // تنزيل التسجيل الصوتي إذا كان متوفراً
                if (this.audioUrl) {
                    this.downloadAudioRecording(studentName);
                }
            }

            generateReport(studentName, schoolName, studentGrade, sessionDate) {
                const currentText = this.texts[this.currentLevel][this.currentTextIndex];
                const readingSpeed = this.calculateSpeed();
                const completionPercentage = Math.floor((this.currentWordIndex / this.words.length) * 100);
                
                // تحديد مستوى الأداء
                let performanceLevel = '';
                let performanceColor = '';
                let recommendations = '';
                
                if (readingSpeed >= 150) {
                    performanceLevel = 'ممتاز';
                    performanceColor = '#10b981';
                    recommendations = 'أداء رائع! استمر في هذا المستوى المتميز وحاول تحدي نفسك بنصوص أكثر تعقيداً.';
                } else if (readingSpeed >= 100) {
                    performanceLevel = 'جيد جداً';
                    performanceColor = '#3b82f6';
                    recommendations = 'أداء جيد! يمكنك تحسين سرعة القراءة من خلال الممارسة اليومية والتركيز على الطلاقة.';
                } else if (readingSpeed >= 60) {
                    performanceLevel = 'جيد';
                    performanceColor = '#f59e0b';
                    recommendations = 'أداء مقبول. ركز على تحسين سرعة القراءة مع الحفاظ على الفهم والنطق الصحيح.';
                } else {
                    performanceLevel = 'يحتاج تحسين';
                    performanceColor = '#ef4444';
                    recommendations = 'يحتاج الطالب إلى مزيد من التدريب. ننصح بالقراءة اليومية والتركيز على النطق الصحيح أولاً.';
                }

                return `
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تقرير تقدم القراءة - ${studentName}</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Arial', 'Tahoma', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .report-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: bold;
        }
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        .content {
            padding: 40px;
        }
        .student-info {
            background: #f8fafc;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 2px solid #e2e8f0;
        }
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        .info-item {
            text-align: center;
        }
        .info-label {
            font-weight: bold;
            color: #4a5568;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        .info-value {
            font-size: 1.1rem;
            color: #2d3748;
            font-weight: bold;
        }
        .performance-section {
            margin: 30px 0;
        }
        .performance-card {
            background: linear-gradient(135deg, ${performanceColor}15, ${performanceColor}05);
            border: 2px solid ${performanceColor}30;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            margin-bottom: 20px;
        }
        .performance-level {
            font-size: 2rem;
            font-weight: bold;
            color: ${performanceColor};
            margin-bottom: 10px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 2px solid #e2e8f0;
        }
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }
        .stat-label {
            color: #4a5568;
            font-size: 0.9rem;
        }
        .text-section {
            background: #f7fafc;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border: 2px solid #e2e8f0;
        }
        .text-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 15px;
        }
        .text-content {
            line-height: 2;
            font-size: 1.1rem;
            color: #4a5568;
            text-align: justify;
        }
        .recommendations {
            background: linear-gradient(135deg, #10b98115, #10b98105);
            border: 2px solid #10b98130;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
        }
        .recommendations h3 {
            color: #059669;
            font-size: 1.3rem;
            margin-bottom: 15px;
        }
        .recommendations p {
            color: #374151;
            line-height: 1.8;
            font-size: 1rem;
        }
        .footer {
            background: #f8fafc;
            padding: 20px;
            text-align: center;
            color: #6b7280;
            border-top: 2px solid #e5e7eb;
        }
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e5e7eb;
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #059669);
            width: ${completionPercentage}%;
            transition: width 0.3s ease;
        }
        @media print {
            body { background: white; padding: 0; }
            .report-container { box-shadow: none; }
        }
    </style>
</head>
<body>
    <div class="report-container">
        <div class="header">
            <h1>🌟 تقرير تقدم القراءة 🌟</h1>
            <p>منصة القراءة الذكية - تقييم شامل للأداء</p>
        </div>
        
        <div class="content">
            <div class="student-info">
                <h2 style="text-align: center; margin-bottom: 20px; color: #2d3748;">معلومات الطالب</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">اسم الطالب</div>
                        <div class="info-value">${studentName}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">المدرسة</div>
                        <div class="info-value">${schoolName}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">الصف الدراسي</div>
                        <div class="info-value">الصف ${this.getGradeName(studentGrade)}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">تاريخ الجلسة</div>
                        <div class="info-value">${this.formatDate(sessionDate)}</div>
                    </div>
                </div>
            </div>

            <div class="performance-section">
                <h2 style="text-align: center; margin-bottom: 20px; color: #2d3748;">تقييم الأداء</h2>
                <div class="performance-card">
                    <div class="performance-level">${performanceLevel}</div>
                    <p style="color: #4a5568; font-size: 1.1rem;">مستوى الأداء العام</p>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">${readingSpeed}</div>
                    <div class="stat-label">كلمة/دقيقة</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${completionPercentage}%</div>
                    <div class="stat-label">نسبة الإكمال</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${this.currentWordIndex}</div>
                    <div class="stat-label">كلمة مقروءة</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${Math.floor(this.elapsedTime / 60000)}:${Math.floor((this.elapsedTime % 60000) / 1000).toString().padStart(2, '0')}</div>
                    <div class="stat-label">وقت القراءة</div>
                </div>
            </div>

            <div style="margin: 30px 0;">
                <h3 style="color: #2d3748; margin-bottom: 10px;">تقدم القراءة</h3>
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <p style="text-align: center; color: #6b7280; margin-top: 10px;">
                    ${this.currentWordIndex} من ${this.words.length} كلمة (${completionPercentage}%)
                </p>
            </div>

            <div class="text-section">
                <div class="text-title">النص المقروء: ${currentText.title}</div>
                <div class="text-content">${currentText.content}</div>
            </div>

            <div class="recommendations">
                <h3>💡 التوصيات والنصائح</h3>
                <p>${recommendations}</p>
            </div>
        </div>

        <div class="footer">
            <p>تم إنشاء هذا التقرير بواسطة منصة القراءة الذكية</p>
            <p>تاريخ الإنشاء: ${new Date().toLocaleDateString('ar-SA')}</p>
        </div>
    </div>
</body>
</html>`;
            }

            getGradeName(grade) {
                const gradeNames = {
                    '5': 'الخامس',
                    '6': 'السادس', 
                    '7': 'السابع',
                    '8': 'الثامن',
                    '9': 'التاسع',
                    '10': 'العاشر',
                    '11': 'الحادي عشر',
                    '12': 'الثاني عشر'
                };
                return gradeNames[grade] || grade;
            }

            formatDate(dateString) {
                if (!dateString) return 'غير محدد';
                const date = new Date(dateString);
                return date.toLocaleDateString('ar-SA', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
            }

            downloadHTMLReport(reportHTML, studentName) {
                const blob = new Blob([reportHTML], { type: 'text/html;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `تقرير_القراءة_${studentName}_${new Date().toISOString().split('T')[0]}.html`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }

            downloadAudioRecording(studentName) {
                if (this.audioUrl) {
                    const a = document.createElement('a');
                    a.href = this.audioUrl;
                    a.download = `تسجيل_القراءة_${studentName}_${new Date().toISOString().split('T')[0]}.wav`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                }
            }
        }

        // تشغيل التطبيق عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', () => {
            new SmartReadingPlatform();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'977f4d80c45d8e29',t:'MTc1NjY3MjQwNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
